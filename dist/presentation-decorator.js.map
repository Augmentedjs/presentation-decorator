{"version":3,"sources":["webpack://presentation-decorator/webpack/universalModuleDefinition","webpack://presentation-decorator/webpack/bootstrap","webpack://presentation-decorator/./src/decorator.js","webpack://presentation-decorator/./src/directive.js","webpack://presentation-decorator/./src/index.js","webpack://presentation-decorator/external {\"commonjs\":\"next-core-utilities\",\"commonjs2\":\"next-core-utilities\",\"amd\":\"next-core-utilities\",\"root\":\"next-core-utilities\"}","webpack://presentation-decorator/external {\"commonjs\":\"presentation-dom\",\"commonjs2\":\"presentation-dom\",\"amd\":\"presentation-dom\",\"root\":\"presentation-dom\"}","webpack://presentation-decorator/external {\"commonjs\":\"presentation-mediator\",\"commonjs2\":\"presentation-mediator\",\"amd\":\"presentation-mediator\",\"root\":\"presentation-mediator\"}","webpack://presentation-decorator/external {\"commonjs\":\"presentation-models\",\"commonjs2\":\"presentation-models\",\"amd\":\"presentation-models\",\"root\":\"presentation-models\"}","webpack://presentation-decorator/external {\"commonjs\":\"presentation-widget\",\"commonjs2\":\"presentation-widget\",\"amd\":\"presentation-widget\",\"root\":\"presentation-widget\"}"],"names":["DECORATOR_ATTRIBUTE_ENUM","DecoratorView","Colleague","constructor","options","events","customEvents","_events","name","bindingAttribute","CLICK","_changed","event","key","currentTarget","getAttribute","val","value","type","checked","model","set","_func","_click","func","_executeFunctionByName","FUNCTION","initialize","init","Model","remove","undelegateEvents","off","stopListening","functionName","context","args","namespaces","split","pop","i","l","length","apply","injectTemplate","template","mount","el","qs","document","querySelector","currentHTML","innerHTML","nodeType","nodeName","appendChild","DocumentFragment","Dom","delegateEvents","removeTemplate","onlyContent","selector","firstChild","removeChild","p","parentNode","console","warn","boundElement","id","syncBoundElement","UIEvent","window","sel","dispatchEvent","syncAllBoundElements","ba","elements","querySelectorAll","addClass","cls","myEl","classList","add","removeClass","bindModelChange","on","syncModelChange","element","_syncData","bind","_syncAllData","e","d","get","renderStyle","STYLE","prependTemplate","PREPEND_TEMPLATE","appendTemplate","APPEND_TEMPLATE","createElement","ee","Presentation","Widget","List","empty","DescriptionList","setValue","attr","attributes","keys","Object","unbindModelChange","unBind","unbindModelSync","DirectiveView","render","module","exports"],"mappings":"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","file":"presentation-decorator.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"next-core-utilities\"), require(\"presentation-dom\"), require(\"presentation-mediator\"), require(\"presentation-models\"), require(\"presentation-widget\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"presentation-decorator\", [\"next-core-utilities\", \"presentation-dom\", \"presentation-mediator\", \"presentation-models\", \"presentation-widget\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"presentation-decorator\"] = factory(require(\"next-core-utilities\"), require(\"presentation-dom\"), require(\"presentation-mediator\"), require(\"presentation-models\"), require(\"presentation-widget\"));\n\telse\n\t\troot[\"presentation-decorator\"] = factory(root[\"next-core-utilities\"], root[\"presentation-dom\"], root[\"presentation-mediator\"], root[\"presentation-models\"], root[\"presentation-widget\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_next_core_utilities__, __WEBPACK_EXTERNAL_MODULE_presentation_dom__, __WEBPACK_EXTERNAL_MODULE_presentation_mediator__, __WEBPACK_EXTERNAL_MODULE_presentation_models__, __WEBPACK_EXTERNAL_MODULE_presentation_widget__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import { isString } from \"next-core-utilities\";\nimport { Colleague } from \"presentation-mediator\";\nimport { Model } from \"presentation-models\";\nimport Dom from \"presentation-dom\";\nimport Widget from \"presentation-widget\";\n\nconst DECORATOR_ATTRIBUTE_ENUM = {\n  \"CLICK\": \"data-click\",\n  \"FUNCTION\": \"data-function\",\n  \"STYLE\": \"data-style\",\n  \"APPEND_TEMPLATE\": \"data-append-template\",\n  \"PREPEND_TEMPLATE\": \"data-prepend-template\"\n};\n\n// TODO: not implimented yet\n//\"appendTemplateEach\": \"data-append-template-each\",\n//\"prependTemplateEach\": \"data-prepend-template-each\"\n\n/**\n * DecoratorView<br/>\n * An MVVM view designed around decorating the DOM with bindings.\n * This concept is designed to decouple the view from the backend contract.\n * Although this is achieved via views in general, the idea is:<br/>\n * <blockquote>As a Javascript Developer, I'd like the ability to decorate HTML and control view rendering without the use of CSS selectors</blockquote>\n * <em>Important to note: This view <strong>gives up</strong> it's template and events!\n * This is because all events and templates are used on the DOM directly.</em><br/>\n * To add custom events, use customEvents instead of 'events'<br/>\n * supported annotations:<br/>\n * <ul>\n * <li>data-click</li>\n * <li>data-function</li>\n * <li>data-style</li>\n * <li>data-append-template</li>\n * <li>data-prepend-template</li>\n * </ul>\n * @memberof Presentation\n * @extends Presentation.Colleague\n */\nclass DecoratorView extends Colleague {\n  constructor(options) {\n    super(options);\n\n    if (options && options.events) {\n      options.customEvents = options.events;\n    }\n\n    if (options && options.customEvents) {\n      this.customEvents = options.customEvents;\n    } else {\n      this.customEvents = {};\n    }\n  };\n  /**\n   * Custom Events Property - merge into built-in events\n   * @property customEvents\n   */\n\n  /**\n   * Events Property - Do Not Override\n   * @property events\n   */\n  events() {\n    //console.debug(\"calling events\");\n    const _events = (this.customEvents) ? this.customEvents : {};\n    if (this.name) {\n      //console.log(\"calling events - name \" + this.name);\n      _events[`change input[${this.bindingAttribute()}]`] = \"_changed\";\n      _events[`change textarea[${this.bindingAttribute()}]`] = \"_changed\";\n      _events[`change select[${this.bindingAttribute()}]`] = \"_changed\";\n      // regular elements with click bindings\n        //console.log(`click *[${this.bindingAttribute()}][${DECORATOR_ATTRIBUTE_ENUM.CLICK}]`);\n      _events[`click *[${this.bindingAttribute()}][${DECORATOR_ATTRIBUTE_ENUM.CLICK}]`] = \"_click\";\n    }\n    //console.debug(\"final events\", _events);\n    return _events;\n  };\n  _changed(event) {\n    if (event) {\n      let key = event.currentTarget.getAttribute(this.bindingAttribute());\n      let val = event.currentTarget.value;\n      if(event.currentTarget.type === \"checkbox\") {\n        val = (event.currentTarget.checked) ? true : false;\n      }\n      this.model.set(( (key) ? key : event.currentTarget.name ), val);\n      this._func(event);\n      //console.debug(\"AUGMENTED: DecoratorView updated Model: \" + JSON.stringify(this.model.toJSON()));\n    }\n  };\n  _click(event) {\n    if (event) {\n      let func = event.currentTarget.getAttribute(DECORATOR_ATTRIBUTE_ENUM.CLICK);\n      if (func && this[func]) {\n        this._executeFunctionByName(func, this, event);\n      }/* else {\n        //_logger.debug(\"AUGMENTED: DecoratorView No function bound or no function exists! \" + func);\n      }*/\n      this._func(event);\n    }\n  };\n  _func(event) {\n    if (event) {\n      let func = event.currentTarget.getAttribute(DECORATOR_ATTRIBUTE_ENUM.FUNCTION);\n      if (func && this[func]) {\n        this._executeFunctionByName(func, this, event);\n      } /*else {\n        //_logger.debug(\"AUGMENTED: DecoratorView No function bound or no function exists! \" + func);\n      }*/\n    }\n  };\n  /**\n   * Initialize method - Do Not Override\n   */\n  initialize(options) {\n    this.init(options);\n\n    if (!this.model) {\n      this.model = new Model();\n    }\n  };\n  /**\n   * Remove method - Does not remove DOM elements only bindings.\n   */\n  remove() {\n    /* off to unbind the events */\n    this.undelegateEvents();\n    this.off();\n    this.stopListening();\n    return this;\n  };\n  /**\n   * _executeFunctionByName method - Private\n   * @private\n   */\n  _executeFunctionByName(functionName, context, ...args /*, args */) {\n    //let args = Array.prototype.slice.call(arguments, 2);\n    const namespaces = functionName.split(\".\");\n    const func = namespaces.pop();\n    if (namespaces && func) {\n      let i = 0;\n      const l = namespaces.length;\n      for (i = 0; i < l; i++) {\n        context = context[namespaces[i]];\n      }\n      return context[func].apply(context, args);\n    }\n    return null;\n    //return Augmented.exec(arguments);\n  };\n  /**\n   * bindingAttribute method - Returns the binging data attribute name\n   * @returns {string} Binding attribute name\n   */\n  bindingAttribute() {\n    return \"data-\" + this.name;\n  };\n  /**\n   * injectTemplate method - Injects a template at a mount point\n   * @param {string} template The template to inject\n   * @param {Element} mount The mount point as Document.Element or String\n   */\n  injectTemplate(template, mount) {\n    if (!mount) {\n      mount = this.el;\n    }\n    if (isString(mount)) {\n      const qs = document.querySelector(mount);\n      //console.log(`Query selector: ${qs}, mount: ${mount}, el: ${this.el}`);\n      if (!qs) {\n        return;\n      }\n      mount = qs;\n    }\n\n    if (isString(template)) {\n      //console.log(`template: ${template}`);\n      // html\n      const currentHTML = mount.innerHTML;\n      mount.innerHTML = `${currentHTML}${template}`;\n    } else if ((template.nodeType && template.nodeName) && (template.nodeType > 0) && !((template.nodeName === \"template\") || (template.nodeName === \"TEMPLATE\"))) {\n      // DOM\n      mount.appendChild(template);\n    } else if (template instanceof DocumentFragment  || (template.nodeName === \"template\") || (template.nodeName === \"TEMPLATE\")) {\n      // Document Fragment\n      Dom.injectTemplate(template, mount);\n    }\n    this.delegateEvents();\n  };\n  /**\n   * removeTemplate method - Removes a template (children) at a mount point\n   * @param {Element} mount The mount point as Document.Element or String\n   * @param {boolean} onlyContent Only remove the content not the mount point\n   */\n  removeTemplate(mount, onlyContent) {\n    if (mount) {\n      let el;\n      if (isString(mount)) {\n        el = Dom.selector(mount);\n      } else {\n        el = mount;\n      }\n      if (el) {\n        while (el.firstChild) {\n          el.removeChild(el.firstChild);\n        }\n        if (!onlyContent) {\n          const p = el.parentNode;\n          if (p) {\n            p.removeChild(el);\n          }\n        }\n        this.delegateEvents();\n      } else {\n        console.warn(`template not removed from ${mount}`);\n      }\n    }\n  };\n  /**\n   * boundElement method - returns the bound element from identifier\n   * @param {string} id The identifier (not id attribute) of the element\n   * @example\n   * from HTML: <div data-myMountedView=\"something\" id=\"anything\"></div>\n   * from JavaScript: let el = this.boundElement(\"something\");\n   */\n  boundElement(id) {\n    if (this.el && id) {\n      let el = this.el;\n      if (isString(this.el)) {\n        el = document.querySelector(this.el);\n      }\n      if (el) {\n        return el.querySelector(\"[\" + this.bindingAttribute() + \"=\" + id + \"]\");\n      }\n    }\n    return null;\n  };\n  /**\n   * syncBoundElement - Syncs the data of a bound element by firing a change event\n   * @param {string} id The identifier (not id attribute) of the element\n   */\n  syncBoundElement(id) {\n    if (id) {\n      let event = new UIEvent(\"change\", {\n        \"view\": window,\n        \"bubbles\": true,\n        \"cancelable\": true\n      }), sel = this.boundElement(id);\n      if (sel) {\n        sel.dispatchEvent(event);\n      }\n    }\n  };\n  /**\n   * syncAllBoundElements - Syncs the data of all bound elements by firing a change events\n   */\n  syncAllBoundElements() {\n    const ba = this.bindingAttribute();\n    if (this.el && ba) {\n      const elements = document.querySelectorAll(`${this.el}[${ba}]`);\n      //console.debug(`Elements ${elements}`);\n      if (elements && elements.length > 0) {\n        let i = 0, l = elements.length, event = new UIEvent(\"change\", {\n          \"view\": window,\n          \"bubbles\": true,\n          \"cancelable\": true\n        });\n        for (i = 0; i < l; i++) {\n          elements[i].dispatchEvent(event);\n        }\n      }\n    } /*else {\n      console.warn(`No bound element ${this.el} or binding attribute - ${ba}`);\n    }*/\n  };\n  /**\n   * addClass - adds a class to a bount element\n   * @param {string} id The identifier (not id attribute) of the element\n   * @param {string} cls The class to add\n   */\n  addClass(id, cls) {\n    const myEl = this.boundElement(id);\n    if (myEl) {\n      myEl.classList.add(cls);\n    }\n  };\n  /**\n   * removeClass - remove a class to a bount element\n   * @param {string} id The identifier (not id attribute) of the element\n   * @param {string} cls The class to remove\n   */\n  removeClass(id, cls) {\n    const myEl = this.boundElement(id);\n    if (myEl) {\n      myEl.classList.remove(cls);\n    }\n  };\n  /**\n   * bindModelChange method - binds the model changes to functions\n   * @param {func} func The function to call when changing (normally render)\n   */\n  bindModelChange(func) {\n    if (!this.model) {\n      this.model = new Model();\n    }\n    this.model.on('change', func, this);\n  };\n  /**\n   * syncModelChange method - binds the model changes to a specified bound element\n   * @param {Element} element The element to bind as Document.Element or string\n   */\n  syncModelChange(element) {\n    if (!this.model) {\n      this.model = new Model();\n    }\n    if (element) {\n      this.model.on('change:' + element, this._syncData.bind(this, element), this);\n    } else {\n      this.model.on('change', this._syncAllData.bind(this, element), this);\n    }\n  };\n  /**\n   * _syncData method - syncs the model changes to a specified bound element\n   * @param {Element} element The element to bind as Document.Element or string\n   * @private\n   */\n  _syncData(element) {\n    let e = this.boundElement(element);\n    if (e) {\n      let d = this.model.get(element),\n      renderStyle = e.getAttribute(DECORATOR_ATTRIBUTE_ENUM.STYLE),\n      prependTemplate = e.getAttribute(DECORATOR_ATTRIBUTE_ENUM.PREPEND_TEMPLATE),\n      appendTemplate = e.getAttribute(DECORATOR_ATTRIBUTE_ENUM.APPEND_TEMPLATE),\n      mount, template;\n\n      if (prependTemplate) {\n        mount = document.createElement(\"div\");\n        template = Dom.selector(\"#\" + prependTemplate);\n        e.appendChild(mount);\n        this.injectTemplate(template, mount);\n      }\n\n      if (renderStyle) {\n        let ee;\n        /*,\n        prependTemplateEach = e.getAttribute(DECORATOR_ATTRIBUTE_ENUM.PREPEND_TEMPLATEEach),\n        appendTemplateEach = e.getAttribute(DECORATOR_ATTRIBUTE_ENUM.APPEND_TEMPLATEEach),\n        pEach = prependTemplateEach ? prependTemplateEach : null,\n        aEach = appendTemplateEach ? appendTemplateEach : null;*/\n\n        if (renderStyle === \"list\" || renderStyle === \"unordered-list\") {\n          ee = Presentation.Widget.List(null, d, false);\n          Dom.empty(e);\n          e.appendChild(ee);\n        } else if (renderStyle === \"ordered-list\") {\n          ee = Presentation.Widget.List(null, d, true);\n          Dom.empty(e);\n          e.appendChild(ee);\n        } else if (renderStyle === \"description-list\") {\n          ee = Presentation.Widget.DescriptionList(null, d);\n          Dom.empty(e);\n          e.appendChild(ee);\n        }\n      } else {\n        Dom.setValue(e, ((d) ? d : \"\"));\n      }\n\n      if (appendTemplate) {\n        mount = document.createElement(\"div\");\n        template = Dom.selector(\"#\" + appendTemplate);\n        e.appendChild(mount);\n\n        this.injectTemplate(template, mount);\n      }\n    }\n  };\n  _syncAllData() {\n    // get all model properties\n    const attr = this.model.attributes;\n    if (attr) {\n      let i = 0;\n      const keys = Object.keys(attr), l = keys.length;\n      for (i = 0; i < l; i++) {\n        this._syncData(keys[i]);\n      }\n    }\n  };\n  /**\n   * unbindModelChange method - unbinds the model changes to elements\n   * @param {func} func The function to call when changing (normally render)\n   */\n  unbindModelChange(func) {\n    this.model.unBind('change', func, this);\n  };\n  /**\n   * unbindModelSync method - unbinds the model changes to a specified bound element\n   * @param {Element} element The element to bind as Document.Element or string\n   */\n  unbindModelSync(element) {\n    this.model.unBind('change:' + element, this._syncData, this);\n  }\n};\n\nexport default DecoratorView;\n","import DecoratorView from \"./decorator.js\";\n\n/**\n * A DecoratorView that is designed to use templates and clean up when removed.\n * @see Presentation.DecoratorView\n * @memberof Presentation\n * @extends Presentation.DecoratorView\n */\nclass DirectiveView extends DecoratorView {\n  constructor(options) {\n    super(options);\n  };\n\n  render() {\n    //console.debug(\"DirectiveView render\");\n    return super.render();\n  };\n\n  remove() {\n    //console.debug(\"DirectiveView remove\", this.name);\n    this.removeTemplate(this.el, true);\n    return super.remove();\n  };\n};\n\nexport default DirectiveView;\n","import DirectiveView from \"./directive.js\";\nimport DecoratorView from \"./decorator.js\";\n\nmodule.exports.DecoratorView = DecoratorView;\nmodule.exports.DirectiveView = DirectiveView;\n","module.exports = __WEBPACK_EXTERNAL_MODULE_next_core_utilities__;","module.exports = __WEBPACK_EXTERNAL_MODULE_presentation_dom__;","module.exports = __WEBPACK_EXTERNAL_MODULE_presentation_mediator__;","module.exports = __WEBPACK_EXTERNAL_MODULE_presentation_models__;","module.exports = __WEBPACK_EXTERNAL_MODULE_presentation_widget__;"],"sourceRoot":""}